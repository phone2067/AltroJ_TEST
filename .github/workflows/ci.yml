name: Simulated CI/CD Pipeline

on:
  push:
    branches: [ master ]

jobs:
  ci-cd:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ“… Checkout Repository
        uses: actions/checkout@v3

      - name: â³ Wait before build
        run: sleep 2

      - name: ğŸ— Build Step (simulated)
        run: |
          echo "Building the project..."
          sleep 1
          echo "."
          sleep 1
          echo ".."
          sleep 1
          echo "..."
          sleep 1
          echo "âœ… Build successful!"

      - name: â³ Wait before test
        run: sleep 2

      - name: ğŸ§ª Run Tests (simulated)
        run: |
          echo "Running tests..."
          sleep 1
          echo "Test 1: âœ…"
          sleep 1
          echo "Test 2: âœ…"
          sleep 1
          echo "Test 3: âœ…"
          echo "âœ… All tests passed!"

      - name: â³ Wait before deploy
        run: sleep 2

      - name: ğŸš€ Deploy (simulated)
        run: |
          echo "Deploying to staging..."
          sleep 1
          echo "."
          sleep 1
          echo ".."
          sleep 1
          echo "..."
          sleep 1
          echo "âœ… Deployed successfully!"

      - name: â³ Wait before notification
        run: sleep 2

      - name: ğŸ“¢ Notify (simulated)
        run: |
          echo "Sending CI/CD completion notification..."
          sleep 1
          echo "ğŸ“¢ Notification sent: CI/CD pipeline for ${{ github.repository }} completed successfully."
          
  dast-scan:
    uses: ./.github/workflows/ASOC_DAST_SCAN.yml

    #uses: ./.github/workflows/AppScan360_DAST_SCAN.yml
    #uses: ./.github/workflows/AppScanENT_DAST_SCAN.yml
    #uses: ./.github/workflows/AppScanSTD_DAST_SCAN.yml
        
